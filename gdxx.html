<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- æ¨±èŠ±è¡¨ç™½å¢™åˆ¶ä½œäºº: æ¨±æŒ¯å®‡ UIé‡æ„:TTS-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>æ›´å¤šé€‰é¡¹ | æ¨±èŠ±è¡¨ç™½å¢™</title>
    <!-- å¼•å…¥ Tailwind CSS (æ— éœ€ä¸‹è½½ï¼Œç›´æ¥ä½¿ç”¨) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ FontAwesome å›¾æ ‡åº“ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- å¼•å…¥ Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            background-color: #ffdee9;
            background-image: linear-gradient(0deg, #ffdee9 0%, #b5fffc 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* æ¨±èŠ±èƒŒæ™¯åŠ¨ç”» */
        .sakura-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }
        .petal {
            position: absolute;
            background-color: #ffc0cb;
            border-radius: 150% 0 150% 0;
            animation: fall infinite linear;
        }
        @keyframes fall {
            0% { transform: translate(0, -10vh) rotate(0deg); opacity: 1; }
            100% { transform: translate(100px, 110vh) rotate(360deg); opacity: 0; }
        }

        /* æ¯›ç»ç’ƒå¡ç‰‡æ•ˆæœ */
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        /* éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™åŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">

    <!-- èƒŒæ™¯æ¨±èŠ±ç‰¹æ•ˆå®¹å™¨ -->
    <div id="sakura-container" class="sakura-bg"></div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="w-full max-w-md space-y-6">
        
        <!-- å¤´éƒ¨ -->
        <div class="text-center space-y-2">
            <h1 class="text-3xl font-bold text-pink-600 drop-shadow-sm">ğŸŒ¸ å»ºé™µè¡¨ç™½å¢™</h1>
            <p class="text-gray-500 text-sm">åœ¨è¿™é‡Œï¼Œè¯´å‡ºä½ çš„å¿ƒé‡Œè¯</p>
        </div>

        <!-- èœå•ç½‘æ ¼ -->
        <div class="grid grid-cols-2 gap-4">
            
            <!-- è¡¨ç™½æŒ‰é’® -->
            <div onclick="openModal('love')" class="glass-card rounded-2xl p-6 text-center cursor-pointer transform transition hover:scale-105 active:scale-95 group">
                <div class="w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:bg-pink-200 transition">
                    <i class="fa-solid fa-heart text-pink-500 text-xl"></i>
                </div>
                <h3 class="font-bold text-gray-700">ä¸ºçˆ±è¡¨ç™½</h3>
                <p class="text-xs text-gray-500 mt-1">å¤§å£°è¯´å‡ºçˆ±</p>
            </div>

            <!-- æ—¥å¸¸æŒ‰é’® -->
            <div onclick="openModal('daily')" class="glass-card rounded-2xl p-6 text-center cursor-pointer transform transition hover:scale-105 active:scale-95 group">
                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:bg-blue-200 transition">
                    <i class="fa-solid fa-pen-nib text-blue-500 text-xl"></i>
                </div>
                <h3 class="font-bold text-gray-700">æ—¥å¸¸è¶£äº‹</h3>
                <p class="text-xs text-gray-500 mt-1">åˆ†äº«ç”Ÿæ´»ç‚¹æ»´</p>
            </div>

            <!-- ä¸ªäººä¸»é¡µ -->
            <div onclick="window.location.href='http://www.ttscn.top/'" class="glass-card rounded-2xl p-4 flex items-center space-x-3 cursor-pointer hover:bg-white/80 transition col-span-2">
                <img src="http://q1.qlogo.cn/g?b=qq&nk=3381229330&s=640" class="w-10 h-10 rounded-full border-2 border-white shadow-sm">
                <div class="flex-1">
                    <h4 class="font-bold text-gray-700 text-sm">ä¸ªäººä¸»é¡µ</h4>
                    <p class="text-xs text-gray-400">ç‚¹å‡»è®¿é—®ä¸»é¡µ</p>
                </div>
                <i class="fa-solid fa-chevron-right text-gray-300"></i>
            </div>

            <!-- æ‰©åˆ— -->
            <div onclick="window.location.href='../admin/tjgg.html'" class="glass-card rounded-xl p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-white/80 transition">
                <i class="fa-solid fa-user-plus text-green-500 text-2xl mb-2"></i>
                <span class="text-xs font-medium text-gray-600">å‘å¸ƒæ‰©åˆ—</span>
            </div>

            <!-- æ¸¸æˆ 2048 -->
            <div onclick="window.location.href='game/2048'" class="glass-card rounded-xl p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-white/80 transition">
                <i class="fa-solid fa-cubes text-yellow-500 text-2xl mb-2"></i>
                <span class="text-xs font-medium text-gray-600">2048å°æ¸¸æˆ</span>
            </div>

             <!-- æ¸¸æˆ CXK -->
             <div onclick="window.location.href='game/cxk1'" class="glass-card rounded-xl p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-white/80 transition col-span-2">
                <i class="fa-solid fa-basketball text-orange-500 text-2xl mb-2"></i>
                <span class="text-xs font-medium text-gray-600">å¤å¤æ‰“ç¯®çƒ</span>
            </div>
        </div>

        <footer class="text-center text-xs text-gray-400 mt-8">
            <p>åˆ¶ä½œäºº: TTS | QQ: 3381229330</p>
        </footer>
    </div>

    <!-- æ¨¡æ€æ¡†é®ç½© (é»˜è®¤éšè—) -->
    <div id="modal-backdrop" class="fixed inset-0 bg-black/40 backdrop-blur-sm z-50 hidden transition-opacity opacity-0 flex items-center justify-center p-4" onclick="closeModal(event)">
        
        <!-- è¡¨å•å®¹å™¨ -->
        <div id="modal-content" class="bg-white rounded-2xl w-full max-w-sm shadow-2xl transform scale-95 transition-all duration-300 overflow-hidden" onclick="event.stopPropagation()">
            
            <!-- å¤´éƒ¨ -->
            <div class="bg-gradient-to-r from-pink-500 to-rose-400 p-4 text-white flex justify-between items-center">
                <h3 id="modal-title" class="font-bold text-lg">å‘å¸ƒå†…å®¹</h3>
                <button onclick="closeModal()" class="hover:bg-white/20 rounded-full w-8 h-8 flex items-center justify-center transition">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>

            <!-- è¡¨å•å†…å®¹ -->
            <div class="p-6 space-y-4">
                
                <!-- åŠ¨æ€è¾“å…¥æ¡† 1 -->
                <div>
                    <label id="label-1" class="block text-xs font-medium text-gray-500 mb-1">å¯¹æ–¹æ˜µç§°</label>
                    <input type="text" id="input-1" class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 focus:bg-white transition text-sm" placeholder="å¿…å¡«">
                </div>

                <!-- åŠ¨æ€è¾“å…¥æ¡† 2 -->
                <div>
                    <label id="label-2" class="block text-xs font-medium text-gray-500 mb-1">æ‚¨çš„æ˜µç§°</label>
                    <input type="text" id="input-2" class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 focus:bg-white transition text-sm" placeholder="é€‰å¡«">
                </div>

                <!-- æ–‡æœ¬åŸŸ -->
                <div>
                    <label id="label-area" class="block text-xs font-medium text-gray-500 mb-1">å†…å®¹</label>
                    <textarea id="input-text" rows="5" class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 focus:bg-white transition text-sm resize-none" placeholder="å†™ä¸‹ä½ æƒ³è¯´çš„è¯..."></textarea>
                </div>

                <!-- æŒ‰é’®ç»„ -->
                <div class="flex space-x-3 pt-2">
                    <button onclick="closeModal()" class="flex-1 px-4 py-2 rounded-lg text-gray-500 bg-gray-100 hover:bg-gray-200 transition text-sm font-medium">å–æ¶ˆ</button>
                    <button id="submit-btn" class="flex-1 px-4 py-2 rounded-lg text-white bg-gradient-to-r from-pink-500 to-rose-500 hover:shadow-lg transition text-sm font-medium transform active:scale-95">å‘å¸ƒ</button>
                </div>
            </div>

        </div>
    </div>

    <script>
        // æ ¸å¿ƒ AJAX å‡½æ•° (ä¿ç•™åŸé€»è¾‘)
        function ajax(url, successCallback, errorCallback) {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', url, true);
            xhr.send();
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {
                    if (xhr.status == 200) {
                        successCallback(xhr.responseText);
                    } else {
                        if (errorCallback) errorCallback();
                    }
                }
            }
        }

        // æ¨±èŠ±ç‰¹æ•ˆè„šæœ¬
        function createSakura() {
            const container = document.getElementById('sakura-container');
            const petal = document.createElement('div');
            petal.classList.add('petal');
            
            // éšæœºå¤§å°ã€ä½ç½®ã€åŠ¨ç”»æ—¶é•¿
            const size = Math.random() * 10 + 5;
            const left = Math.random() * 100;
            const duration = Math.random() * 5 + 5;
            const delay = Math.random() * 5;

            petal.style.width = `${size}px`;
            petal.style.height = `${size}px`;
            petal.style.left = `${left}%`;
            petal.style.animationDuration = `${duration}s`;
            petal.style.animationDelay = `${delay}s`;

            container.appendChild(petal);

            // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
            setTimeout(() => {
                petal.remove();
            }, (duration + delay) * 1000);
        }
        // ç”Ÿæˆåˆå§‹æ¨±èŠ±
        setInterval(createSakura, 500);


        // UI é€»è¾‘
        let currentType = 0; // 0: è¡¨ç™½, 1: æ—¥å¸¸

        const modalBackdrop = document.getElementById('modal-backdrop');
        const modalContent = document.getElementById('modal-content');
        
        // å…ƒç´ å¼•ç”¨
        const label1 = document.getElementById('label-1');
        const input1 = document.getElementById('input-1');
        const label2 = document.getElementById('label-2');
        const input2 = document.getElementById('input-2');
        const labelArea = document.getElementById('label-area');
        const inputText = document.getElementById('input-text');
        const modalTitle = document.getElementById('modal-title');
        const submitBtn = document.getElementById('submit-btn');

        function openModal(type) {
            // é‡ç½®è¡¨å•
            input1.value = "";
            input2.value = "";
            inputText.value = "";

            modalBackdrop.classList.remove('hidden');
            // ç¨å¾®å»¶è¿Ÿä»¥è§¦å‘CSSè¿‡æ¸¡
            setTimeout(() => {
                modalBackdrop.classList.remove('opacity-0');
                modalContent.classList.remove('scale-95');
                modalContent.classList.add('scale-100');
            }, 10);

            if (type === 'love') {
                currentType = 0;
                modalTitle.innerText = "â¤ï¸ ä¸ºçˆ±è¡¨ç™½";
                label1.innerText = "å¯¹æ–¹æ˜µç§° (å¿…å¡«)";
                input1.placeholder = "Taçš„åå­—";
                label2.innerText = "æ‚¨çš„æ˜µç§° (é€‰å¡«)";
                input2.placeholder = "ç•™ç©ºåˆ™åŒ¿å";
                labelArea.innerText = "è¡¨ç™½å†…å®¹";
                inputText.placeholder = "å±±æœ‰æœ¨å…®æœ¨æœ‰æ...";
                submitBtn.onclick = () => submitLove();
            } else {
                currentType = 1;
                modalTitle.innerText = "ğŸ—’ æ—¥å¸¸è¶£äº‹";
                label1.innerText = "å›¾ç‰‡é“¾æ¥ (é€‰å¡«)";
                input1.placeholder = "http://...";
                label2.innerText = "æ‚¨çš„æ˜µç§° (å¿…å¡«)";
                input2.placeholder = "æ‚¨çš„åå­—";
                labelArea.innerText = "è¶£äº‹å†…å®¹";
                inputText.placeholder = "ä»Šå¤©å‘ç”Ÿäº†ä»€ä¹ˆ...";
                submitBtn.onclick = () => submitDaily();
            }
        }

        function closeModal(e) {
            // å¦‚æœç‚¹å‡»çš„æ˜¯èƒŒæ™¯æˆ–è€…è°ƒç”¨å…³é—­
            if (!e || e.target === modalBackdrop || !e.target.closest('#modal-content')) {
                modalBackdrop.classList.add('opacity-0');
                modalContent.classList.remove('scale-100');
                modalContent.classList.add('scale-95');
                setTimeout(() => {
                    modalBackdrop.classList.add('hidden');
                }, 300);
            }
        }

        // æäº¤è¡¨ç™½é€»è¾‘ (é€»è¾‘è¿˜åŸ)
        function submitLove() {
            const val1 = input1.value.trim(); // å¯¹æ–¹æ˜µç§°
            const val2 = input2.value.trim(); // ä½ çš„æ˜µç§°
            const valText = inputText.value.trim(); // å†…å®¹

            if (val1.length > 99 || val2.length > 99 || valText.length > 520) {
                alert("å†…å®¹è¿‡é•¿ï¼\nè§„èŒƒ: æ˜µç§°<99å­—ï¼Œå†…å®¹<520å­—");
                return;
            }
            if (val1.length === 0 || valText.length === 0) {
                alert("è¯·å¡«å†™å®Œæ•´ï¼å¯¹æ–¹æ˜µç§°å’Œå†…å®¹æ˜¯å¿…å¡«çš„ã€‚");
                return;
            }

            // å‘é€è¯·æ±‚
            submitBtn.disabled = true;
            submitBtn.innerText = "å‘å¸ƒä¸­...";
            
            ajax(`api/tj.php?&wan=0&mz1=${encodeURIComponent(val1)}&mz2=${encodeURIComponent(val2)}&text=${encodeURIComponent(valText)}`, 
                function(res) {
                    if (res == "å†…å®¹æ·»åŠ æˆåŠŸï¼") {
                        alert("â¤ï¸ è¡¨ç™½æˆåŠŸï¼");
                        window.location.replace('index.php');
                    } else {
                        alert(res);
                        submitBtn.disabled = false;
                        submitBtn.innerText = "å‘å¸ƒ";
                    }
                }, 
                function() {
                    alert('ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•ï¼');
                    submitBtn.disabled = false;
                    submitBtn.innerText = "å‘å¸ƒ";
                }
            );
        }

        // æäº¤æ—¥å¸¸é€»è¾‘ (é€»è¾‘è¿˜åŸ)
        function submitDaily() {
            const val1 = input1.value.trim(); // å›¾ç‰‡é“¾æ¥
            const val2 = input2.value.trim(); // ä½ çš„æ˜µç§°
            const valText = inputText.value.trim(); // å†…å®¹

            if (val1.length > 255 || val2.length > 6 || valText.length > 255) {
                alert("æ ¼å¼é”™è¯¯ï¼\nè§„èŒƒ: å›¾ç‰‡é“¾æ¥<255å­—ï¼Œæ˜µç§°<6å­—ï¼Œå†…å®¹<255å­—");
                return;
            }
            if (val2.length === 0 || valText.length === 0) {
                alert("è¯·å¡«å†™å®Œæ•´ï¼æ‚¨çš„æ˜µç§°å’Œå†…å®¹æ˜¯å¿…å¡«çš„ã€‚");
                return;
            }

            submitBtn.disabled = true;
            submitBtn.innerText = "å‘å¸ƒä¸­...";

            ajax(`api/tj.php?&wan=1&mz1=${encodeURIComponent(val1)}&mz2=${encodeURIComponent(val2)}&text=${encodeURIComponent(valText)}`, 
                function(res) {
                    if (res == "å†…å®¹æ·»åŠ æˆåŠŸï¼") {
                        alert("ğŸ—’ å‘å¸ƒæˆåŠŸï¼");
                        window.location.replace('index.php');
                    } else {
                        alert(res);
                        submitBtn.disabled = false;
                        submitBtn.innerText = "å‘å¸ƒ";
                    }
                }, 
                function() {
                    alert('ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•ï¼');
                    submitBtn.disabled = false;
                    submitBtn.innerText = "å‘å¸ƒ";
                }
            );
        }
    </script>
</body>
</html>